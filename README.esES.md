# Diablo IV Companion

[![GitHub stable release version](https://img.shields.io/github/v/release/josdemmers/Diablo4Companion?filter=v4*&logo=github&label=Stable)](https://github.com/josdemmers/Diablo4Companion/releases)
[![GitHub stable release data](https://img.shields.io/github/release-date/josdemmers/Diablo4Companion?logo=github&label=Released)](https://github.com/josdemmers/Diablo4Companion/releases)
[![GitHub stable release downloads](https://img.shields.io/github/downloads/josdemmers/Diablo4Companion/latest/total?logo=github&label=Downloads)](https://github.com/josdemmers/Diablo4Companion/releases)
[![GitHub stable release downloads (total)](https://img.shields.io/github/downloads/josdemmers/Diablo4Companion/total?logo=github&label=Downloads%20(Total))](https://github.com/josdemmers/Diablo4Companion/releases)
[![GitHub License](https://img.shields.io/github/license/josdemmers/Diablo4Companion?logo=github)](https://github.com/josdemmers/Diablo4Companion/blob/master/LICENSE)

[![Discord](https://img.shields.io/discord/320539672663031818?logo=discord&logoColor=white&label=Discord)](https://th.gl/discord)
[![Wiki](https://img.shields.io/badge/Read-wiki-blue?logo=github)](https://github.com/josdemmers/Diablo4Companion/wiki)

[![Donate Ko-Fi](https://img.shields.io/badge/Ko--Fi-donate-red?logo=kofi)](https://ko-fi.com/H2H1H5GCR)
[![Donate PayPal](https://img.shields.io/badge/PayPal.me-donate-blue?logo=paypal)](https://paypal.me/josdemmers)

### Readme translations

[![en](https://img.shields.io/badge/lang-en-red.svg)](https://github.com/josdemmers/Diablo4Companion/blob/master/README.md)
[![es](https://img.shields.io/badge/lang-es-yellow.svg)](https://github.com/josdemmers/Diablo4Companion/blob/master/README.esES.md)

A companion app for Diablo IV to help you find your perfect gear affixes.

<div align="center">
<img alt="" title="Ingame overlay" src="./readme/readme-top.png" width="95%"/>
<img alt="" title="Ingame overlay paragon" src="./readme/readme-top-paragon.png" width="95%"/>
<img alt="" title="Affixes view" src="./readme/readme-top-001.png" width="47%"/>
<img alt="" title="Aspects view" src="./readme/readme-top-002.png" width="47%"/>
<img alt="" title="Sigil view" src="./readme/readme-top-003.png" width="47%"/>
<img alt="" title="Rune view" src="./readme/readme-top-004.png" width="47%"/>
<img alt="" title="Import view" src="./readme/readme-top-005.png" width="47%"/>
<img alt="" title="Trade view" src="./readme/readme-top-006.png" width="47%"/>
</div>

If you like my work you can sponsor me on Ko-fi.

[![ko-fi](https://ko-fi.com/img/githubbutton_sm.svg)](https://ko-fi.com/H2H1H5GCR)

Looking for help?

[![Discord](https://img.shields.io/discord/320539672663031818?logo=discord&logoColor=white&label=Discord)](https://th.gl/discord)

## Table of Contents

- [Features](https://github.com/josdemmers/Diablo4Companion#features)
- [Installation](https://github.com/josdemmers/Diablo4Companion#installation)
- [Configuration](https://github.com/josdemmers/Diablo4Companion#configuration)
- [Usage](https://github.com/josdemmers/Diablo4Companion#Usage)
- [Troubleshooting](https://github.com/josdemmers/Diablo4Companion#Troubleshooting)

## Features

- Loot filter.
  - Supports affixes, aspects, runes and sigils.
  - Filter by affix value.
  - Filter by item power.
- Trading lists
  - Track valuable items for trading.
  - Show trade value ingame.  
- Import builds from D4Builds.gg
- Import builds from Maxroll.gg
- Import builds from Mobalytics.gg
- Import paragon boards. See [wiki](https://github.com/josdemmers/Diablo4Companion/wiki/How-to-use-the-paragon-overlay).
- Multi-language support. See [wiki](https://github.com/josdemmers/Diablo4Companion/wiki/How-to-create-translations) if you want to translate the app. 

## Installation

- Download the latest version from [Releases](https://github.com/josdemmers/Diablo4Companion/releases)
- Extract files and run D4Companion.exe
- Go to settings and select the **System preset** matching your resolution.
  - Make sure to click the update / download button first to get the latest version.
  - Use the recommended app settings listed for each resolution.
- Go to affixes and create a new **Gear Affix Preset**.
  - Or import a build from D4Builds, Maxroll or Mobalytics ([wiki](https://github.com/josdemmers/Diablo4Companion/wiki/How-to-import-and-export-builds)).
- Select your prefered affixes for each item slot.
- Double click affixes to add/remove them from the list.
- Read [Usage](https://github.com/josdemmers/Diablo4Companion#Usage) for more details on using the app.
- For tips and troubleshooting there is also a [wiki](https://github.com/josdemmers/Diablo4Companion/wiki).

## Configurations

Currently the following system presets are included:


| Preset           | Languages                                       | Config                                                                      |  Status                                                           | Missing icons           |
| ---------------- | ----------------------------------------------- | --------------------------------------------------------------------------- | ----------------------------------------------------------------- | ----------------------- |
| 1050p_SMF        | <img src="./D4Companion/Images/Flags/deDE.png"><img src="./D4Companion/Images/Flags/enUS.png"><img src="./D4Companion/Images/Flags/plPL.png"><img src="./D4Companion/Images/Flags/ptBR.png"><br><img src="./D4Companion/Images/Flags/ruRU.png"> | SDR (HDR off) with font set to medium.              | ![Static Badge](https://img.shields.io/badge/status-broken-red)   | temper, mythic, runes   |
| 1080p_SMF        | <img src="./D4Companion/Images/Flags/deDE.png"><img src="./D4Companion/Images/Flags/enUS.png"><img src="./D4Companion/Images/Flags/esES.png"><img src="./D4Companion/Images/Flags/esMX.png"><br><img src="./D4Companion/Images/Flags/frFR.png"><img src="./D4Companion/Images/Flags/plPL.png"><img src="./D4Companion/Images/Flags/ptBR.png"><img src="./D4Companion/Images/Flags/ruRU.png"> | SDR (HDR off) with font set to medium.              | ![Static Badge](https://img.shields.io/badge/status-ready-green)  |                         |
| 1080p_SSF        | <img src="./D4Companion/Images/Flags/deDE.png"><img src="./D4Companion/Images/Flags/enUS.png"><img src="./D4Companion/Images/Flags/esES.png"><img src="./D4Companion/Images/Flags/esMX.png"><br><img src="./D4Companion/Images/Flags/plPL.png"><img src="./D4Companion/Images/Flags/ptBR.png"><img src="./D4Companion/Images/Flags/ruRU.png"> | SDR (HDR off) with font set to small.               | ![Static Badge](https://img.shields.io/badge/status-ready-green)  |                         |
| 1440p_HSF        | <img src="./D4Companion/Images/Flags/deDE.png"><img src="./D4Companion/Images/Flags/enUS.png"><img src="./D4Companion/Images/Flags/plPL.png"><img src="./D4Companion/Images/Flags/ptBR.png"><br><img src="./D4Companion/Images/Flags/ruRU.png"> | HDR with font set to small.                         | ![Static Badge](https://img.shields.io/badge/status-ready-green)  |                         |
| 1440p_SMF        | <img src="./D4Companion/Images/Flags/deDE.png"><img src="./D4Companion/Images/Flags/enUS.png"><img src="./D4Companion/Images/Flags/esES.png"><img src="./D4Companion/Images/Flags/esMX.png"><br><img src="./D4Companion/Images/Flags/frFR.png"><img src="./D4Companion/Images/Flags/itIT.png"><img src="./D4Companion/Images/Flags/plPL.png"><img src="./D4Companion/Images/Flags/ptBR.png"><br><img src="./D4Companion/Images/Flags/ruRU.png"> | SDR (HDR off) with font set to medium.              | ![Static Badge](https://img.shields.io/badge/status-ready-green)  |                         |
| 1440p_SMF_zhCN   | <img src="./D4Companion/Images/Flags/zhCN.png"> | SDR (HDR off) with font set to medium for the Chinese (Simplified) language. | ![Static Badge](https://img.shields.io/badge/status-ready-green)  |                         |
| 1440p_SSF        | <img src="./D4Companion/Images/Flags/deDE.png"><img src="./D4Companion/Images/Flags/enUS.png"><img src="./D4Companion/Images/Flags/plPL.png"><img src="./D4Companion/Images/Flags/ptBR.png"><br><img src="./D4Companion/Images/Flags/ruRU.png"> | SDR (HDR off) with font set to small.               | ![Static Badge](https://img.shields.io/badge/status-ready-green)  |                         |
| 1600p_SMF        | <img src="./D4Companion/Images/Flags/deDE.png"><img src="./D4Companion/Images/Flags/enUS.png"><img src="./D4Companion/Images/Flags/plPL.png"><img src="./D4Companion/Images/Flags/ptBR.png"><br><img src="./D4Companion/Images/Flags/ruRU.png"> | SDR (HDR off) with font set to medium.              | ![Static Badge](https://img.shields.io/badge/status-broken-red)   | greater, temper, mythic, runes |
| 1600p_SMF_zhCN   | <img src="./D4Companion/Images/Flags/zhCN.png"> | SDR (HDR off) with font set to medium for the Chinese (Simplified) language. | ![Static Badge](https://img.shields.io/badge/status-broken-red)   | greater, temper, mythic, runes |
| 2160p_HSF        | <img src="./D4Companion/Images/Flags/deDE.png"><img src="./D4Companion/Images/Flags/enUS.png"><img src="./D4Companion/Images/Flags/plPL.png"><img src="./D4Companion/Images/Flags/ptBR.png"><br><img src="./D4Companion/Images/Flags/ruRU.png"> | HDR with font set to small.                         | ![Static Badge](https://img.shields.io/badge/status-ready-green)  |                         |
| 2160p_SSF        | <img src="./D4Companion/Images/Flags/deDE.png"><img src="./D4Companion/Images/Flags/enUS.png"><img src="./D4Companion/Images/Flags/plPL.png"><img src="./D4Companion/Images/Flags/ptBR.png"><br><img src="./D4Companion/Images/Flags/ruRU.png"> | SDR (HDR off) with font set to small.               | ![Static Badge](https://img.shields.io/badge/status-broken-red)   | mythic, runes           |

Each preset works for both normal and widescreen resolutions. e.g. for 2560x1440 and 3440x1440 use the 1440p preset.

Feel free to share you system presets with me so I can add them to the app.

See the following [wiki](https://github.com/josdemmers/Diablo4Companion/wiki/How-to-create-a-new-System-Preset) page to create your own.

## Usage

![Usage-1](./readme/readme-002.png)

1. Navigation menu. In the following order, Affixes, Trade, Logging, Debug, and Settings.
2. Toggle the overlay on/off. Note: This is also possible using the ingame button in the top left corner.
3. Change language for affixes.
4. Create, select, or delete affix presets. The import/export buttons can be used to share your builds, or to import builds from D4Builds, Maxroll and Mobalitics. See [wiki](https://github.com/josdemmers/Diablo4Companion/wiki/How-to-import-and-export-builds) for more details.
5. Overview of selected affixes for each gear slot. Click to change color, or double click affix name to remove it.
6. Filter affixes.
7. Switch between affixes, aspects, sigils, uniques, and runes.
8. Adds the affix to your preset so you can monitor it ingame.

![Usage-2](./readme/readme-003.png)

1. Toggle the debug information on or off.
2. Set the app as the top-most window.
3. Set the width of the tooltip. Default for 1440p is 500. Recommended settings for other resolutions are listed when you download a system preset and are applied automatic when you select another preset. The height setting is used to limit item type area of the tooltip.
4. Threshold settings for filtering out background noise. Defaults for SDR is (70/255). Recommended settings for HDR are listed when you download a system preset and are applied automatic when you select another preset.
5. Area offsets for affixes/aspects descriptions. Recommended settings for each resolution are listed when you download a system preset and are applied automatic when you select another preset.
6. Minimum match for OCR converted text that is acceptable. Default is 80%.
7. Take a screenshot.
8. Reloads the current active system preset.
9. Previous debug image.
10. Next debug image.
11. Similarity thresholds for matching images. A lower value means a closer match is required. Default of 0.05 is recommended.

![Usage-3](./readme/readme-004.png)

1. Select the preset matching your resolution. See [wiki](https://github.com/josdemmers/Diablo4Companion/wiki/How-to-create-a-new-System-Preset) to create your own.
2. The download manager can be used to download community created system presets. If your language or resolution is missing please send them to me and I'll add them to the list. Follow the recommended app settings in the description.
3. Hover your mouse over one of the info icons to get more detailed information about a setting.

## Troubleshooting

See [F.A.Q.](https://github.com/josdemmers/Diablo4Companion/wiki#frequently-asked-questions)

## Licensing

MIT

## Thirdparty packages

- [CsWin32](https://github.com/microsoft/CsWin32)
- [Emgu CV](https://www.emgu.com/wiki/index.php/Main_Page)
- [FuzzierSharp](https://github.com/AtriaStar/FuzzierSharp)
- [GameOverlay.Net](https://github.com/michel-pi/GameOverlay.Net)
- [Hardcodet WPF NotifyIcon](https://github.com/hardcodet/wpf-notifyicon)
- [MahApps.Metro](https://github.com/MahApps/MahApps.Metro)
- [NHotkey](https://github.com/thomaslevesque/NHotkey)
- [Prism](https://github.com/PrismLibrary/Prism)
- [TesseractOCR](https://github.com/Sicos1977/TesseractOCR)

## Community

### The Hidden Gaming Lair

- [Discord](https://th.gl/discord)
- [www](https://www.th.gl/)

## Mentions

- [d4data](https://github.com/DiabloTools/d4data)
- [d4builds.gg](https://d4builds.gg/)
- [maxroll.gg](https://maxroll.gg/d4/build-guides)
- [mobalitics.gg](https://mobalytics.gg/diablo-4)
